# Лабораторная работа №12: Blazor WebAssembly и SignalR

## Новые технологии и концепции

### 1. Blazor WebAssembly (WASM)
- **Модель хостинга**: В отличие от Blazor Server, приложение Blazor WebAssembly загружается в браузер клиента и выполняется там.
- **WebAssembly**: Бинарный формат инструкций, который позволяет выполнять код (в том числе C# через .NET Runtime) в браузере с производительностью, близкой к нативной.
- **SPA (Single Page Application)**: Приложение, которое загружает одну HTML-страницу и динамически обновляет ее содержимое, не требуя перезагрузки страницы при навигации.

### 2. SignalR
- **Real-time Web**: Библиотека для добавления функциональности реального времени. Позволяет серверу отправлять уведомления клиентам мгновенно.
- **Hub (Хаб)**: Основной компонент на сервере, который обрабатывает подключения, группы и рассылку сообщений.
- **Transport**: SignalR автоматически выбирает лучший транспорт: WebSockets (предпочтительно), Server-Sent Events или Long Polling.

### 3. Аутентификация в WASM
- **OIDC (OpenID Connect)**: Используется для аутентификации через внешние провайдеры (Keycloak).
- **JWT**: Токены доступа хранятся в браузере (обычно в Session Storage или Local Storage) и отправляются с каждым запросом к API и при подключении к SignalR.
- **AuthenticationStateProvider**: Сервис Blazor, который отслеживает состояние аутентификации пользователя и уведомляет компоненты об изменениях.

### 4. Компоненты и состояние
- **CascadingParameter**: Способ передачи данных (например, состояния аутентификации или темы оформления) вниз по дереву компонентов без необходимости передавать их через каждый уровень вручную.
- **StateHasChanged**: Метод, который сообщает Blazor, что состояние компонента изменилось и его нужно перерисовать. Часто используется в обработчиках событий SignalR, так как они могут вызываться вне стандартного жизненного цикла Blazor.
