# Лабораторная работа №8: Маршрутизация, Сессии и Кэширование

## Новые технологии и концепции

### 1. Маршрутизация (Routing)
- **Маршрутизация**: Механизм сопоставления входящих HTTP-запросов с обработчиками (контроллерами и действиями).
- **Атрибутная маршрутизация**: Определение маршрутов непосредственно над методами контроллера с помощью атрибутов `[Route]`, `[HttpGet]`, `[HttpPost]`.
- **Сегменты маршрута**: Части URL, разделенные слешем. Могут быть статическими (фиксированный текст) или динамическими (параметры в фигурных скобках `{id}`).

### 2. Кэширование (Caching)
- **Hybrid Cache**: Новая возможность в .NET 9 (в лабораторной упоминается как .NET 8+, но HybridCache появился позже, возможно имеется в виду библиотека `Microsoft.Extensions.Caching.Hybrid` или аналог). Объединяет быстрый локальный кэш (In-Memory) и надежный распределенный кэш.
- **Distributed Cache (Redis)**: Кэш, который находится вне процесса веб-приложения (в данном случае в Redis). Позволяет сохранять данные при перезапуске приложения и делить их между несколькими экземплярами сервиса.
- **Redis**: Быстрое хранилище данных типа "ключ-значение" в оперативной памяти. Запускается в Docker-контейнере.

### 3. Управление состоянием (State Management)
- **Сессия (Session)**: Механизм хранения данных пользователя между запросами. Данные хранятся на сервере (в памяти или распределенном кэше), а клиенту выдается идентификатор сессии (Session ID) в cookie.
- **Корзина (Cart)**: Реализация корзины покупок, которая сохраняется в сессии.
- **Внедрение зависимостей для сессии**: Создание сервиса-обертки (`SessionCart`), который инкапсулирует логику работы с `HttpContext.Session`, позволяя контроллерам работать с абстракцией `Cart`, а не напрямую с сессией.

### 4. Docker
- Использование Docker Compose для запуска Redis вместе с PostgreSQL.
