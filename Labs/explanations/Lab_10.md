# Лабораторная работа №10: Логирование и Middleware

## Новые технологии и концепции

### 1. Логирование (Serilog)
- **Serilog**: Популярная библиотека для структурированного логирования в .NET. Позволяет записывать логи в различные "стоки" (Sinks): консоль, файлы, базы данных, Elasticsearch и т.д.
- **Структурированное логирование**: Запись логов не просто как текста, а как набора пар "ключ-значение", что упрощает поиск и анализ.
- **Конфигурация**: Настройка Serilog обычно производится через `appsettings.json` (уровни логирования, пути к файлам).

### 2. Middleware (Промежуточное ПО)
- **Middleware**: Компоненты, из которых собирается конвейер (pipeline) обработки HTTP-запросов в ASP.NET Core.
- Каждый компонент может:
  - Выполнить работу до передачи запроса следующему компоненту.
  - Передать запрос следующему компоненту.
  - Выполнить работу после того, как следующий компонент отработал (на обратном пути, при формировании ответа).
- **RequestDelegate**: Делегат, представляющий следующий компонент в конвейере. Вызывается как `await _next(context)`.

### 3. Задача лабораторной
- Создать собственный Middleware для логирования запросов, которые завершились с кодом ошибки (не 2xx). Это демонстрирует возможность Middleware анализировать и обрабатывать исходящие ответы (Response).
