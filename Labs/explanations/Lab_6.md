# Лабораторная работа №6: Аутентификация и авторизация (Keycloak)

## Новые технологии и концепции

### 1. Keycloak
- **Keycloak**: Сервер управления доступом и идентификацией (IAM) с открытым исходным кодом. Поддерживает протоколы OpenID Connect, OAuth 2.0 и SAML 2.0.
- **Realm (Область)**: Пространство имен в Keycloak, содержащее своих пользователей, приложения и правила.
- **Client (Клиент)**: Приложение (веб-сайт, API), которое запрашивает аутентификацию у Keycloak.
- **Scope**: Область доступа, определяющая, какие данные и права запрашиваются.

### 2. Протоколы безопасности
- **OAuth 2.0**: Протокол авторизации, позволяющий приложениям получать ограниченный доступ к ресурсам пользователя.
- **OpenID Connect (OIDC)**: Слой идентификации поверх OAuth 2.0. Позволяет клиентам верифицировать личность пользователя.
- **JWT (JSON Web Token)**: Компактный формат токена, содержащий утверждения (Claims) о пользователе в формате JSON, подписанный криптографически.

### 3. Аутентификация в ASP.NET Core
- **JwtBearer**: Схема аутентификации для API, проверяющая JWT токены в заголовке `Authorization`.
- **OpenIdConnect**: Схема для веб-приложений (UI), перенаправляющая пользователя на сервер аутентификации для входа.
- **Claims (Утверждения)**: Пара ключ-значение, описывающая свойство пользователя (например, имя, email, роль).
- **ClaimsPrincipal**: Объект, представляющий текущего пользователя и содержащий набор его удостоверений (Identities).

### 4. Авторизация
- **Middleware**: `app.UseAuthentication()` (кто это?) и `app.UseAuthorization()` (что ему можно?).
- **Policies (Политики)**: Гибкий способ определения правил доступа (например, "требуется роль Admin" или "возраст > 18").
- **Roles (Роли)**: Группы пользователей с определенными правами.

### 5. Docker Compose
- Инструмент для запуска многоконтейнерных приложений. В данной работе используется для запуска Keycloak и PostgreSQL одной командой.
