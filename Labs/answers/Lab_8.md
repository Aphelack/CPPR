# Ответы на вопросы для самопроверки (Лабораторная работа №8)

### 1. Какие еще механизмы, кроме сессии, есть в ASP.Net Core для сохранения состояний (сохранения данных между запросами)?
- **Cookies**: Хранение данных на клиенте.
- **Query Strings**: Передача данных в URL.
- **Hidden Fields**: Скрытые поля в формах.
- **TempData**: Хранение данных на время одного следующего запроса (обычно использует Session или Cookies).
- **Cache**: Кэширование данных на сервере.
- **База данных**: Постоянное хранение.

### 2. Где хранятся данные сессии?
Данные хранятся на сервере. Место хранения зависит от конфигурации:
- **In-Memory**: В оперативной памяти веб-сервера (по умолчанию).
- **Distributed Cache**: В распределенном кэше (Redis, SQL Server), что позволяет сохранять сессию при перезагрузке сервера или в веб-фермах.

### 3. Сколько времени хранятся данные в сессии?
По умолчанию 20 минут простоя (Idle Timeout). Это время можно настроить через `SessionOptions.IdleTimeout`.

### 4. Как прочитать/записать данные Cookie?
- **Запись**: `HttpContext.Response.Cookies.Append("key", "value", options);`
- **Чтение**: `var value = HttpContext.Request.Cookies["key"];`

### 5. Сколько времени хранятся данные Cookie?
Зависит от настроек при создании (`CookieOptions.Expires`).
- **Сессионные куки**: Удаляются при закрытии браузера (если не указан срок действия).
- **Постоянные куки**: Хранятся до указанной даты истечения.

### 6. Какие преимущества дает распределенный (Distributed) кэш?
- **Согласованность данных**: Несколько серверов (экземпляров приложения) видят одни и те же кэшированные данные.
- **Выживаемость**: Данные сохраняются при перезапуске веб-приложения.
- **Масштабируемость**: Кэш не занимает память веб-сервера.

### 7. Что такое «Статический сегмент маршрута»? Приведите пример.
Это часть URL, которая должна точно совпадать с определенной строкой.
Пример: В маршруте `Catalog/{category}`, `Catalog` — это статический сегмент.

### 8. Как в контроллере получить значение сегмента маршрута?
Через параметры метода действия (если имена совпадают) или через `RouteData.Values["key"]`.

### 9. Как в тэге `<a>` с помощью tag-helper указать значение сегмента маршрута?
Используя атрибут `asp-route-{имя_параметра}`.
Пример: `<a asp-route-id="@item.Id">Details</a>`

### 10. Как зарегистрировать маршрут в классе `Program`?
Используя `app.MapControllerRoute(...)`.
```csharp
app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Home}/{action=Index}/{id?}");
```

### 11. Как зарегистрировать маршрут с помощью атрибутов?
Включить маршрутизацию атрибутами (она включена по умолчанию в `MapControllers`) и использовать атрибут `[Route("...")]` над контроллером или методом.

### 12. Что такое ограничения (constraints) маршрута?
Это правила, которым должны соответствовать параметры маршрута, чтобы маршрут был выбран.
Пример: `{id:int}` (id должен быть целым числом), `{name:alpha}` (только буквы).

### 13. Как получить адрес конечной точки в коде контроллера или в представлении?
Используя генератор ссылок `IUrlHelper` (свойство `Url` в контроллере) или сервис `LinkGenerator`.
Пример: `Url.Action("Index", "Home")`.
