# Ответы на вопросы для самопроверки (Лабораторная работа №10)

### 1. Для чего используются Middleware?
Middleware используются для обработки HTTP-запросов и ответов. Они могут выполнять такие задачи, как аутентификация, авторизация, логирование, обработка ошибок, обслуживание статических файлов, сжатие ответов и маршрутизация.

### 2. Для чего используется объект `RequestDelegate`, передаваемый в конструктор класса Middleware?
`RequestDelegate` (обычно именуемый `next`) представляет собой ссылку на следующий компонент Middleware в конвейере. Вызывая `await _next(context)`, текущий компонент передает управление дальше по цепочке.

### 3. Как работает конвейер обработки запросов Http?
Запрос проходит через цепочку Middleware последовательно. Каждый компонент может обработать запрос и передать его дальше (вызвав `next`), либо прервать цепочку (не вызывая `next`) и сформировать ответ самостоятельно. После того как последний компонент отработал, управление возвращается обратно по цепочке (вверх), позволяя компонентам выполнить действия с ответом (Response).

### 4. Может ли Middleware обработать ответ, передаваемый клиенту?
Да. Middleware может выполнять код *после* вызова `await _next(context)`. В этот момент управление возвращается от последующих компонентов, и текущий компонент может проверить или изменить объект `Response` (например, добавить заголовки или залогировать статус-код).

### 5. Как добавить Middleware в конвейер обработки запросов Http?
В файле `Program.cs` (или `Startup.cs`) с помощью методов расширения `app.Use...` (например, `app.UseMiddleware<MyMiddleware>()` или встроенных `app.UseStaticFiles()`, `app.UseAuthentication()`). Порядок добавления важен, так как он определяет порядок выполнения.
