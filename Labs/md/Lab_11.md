# Лабораторная работа № 11
## Введение в Blazor

### 1. Цель работы
- Изучение проекта Blazor.
- Знакомство с компонентами Razor.

### 2. Выполнение работы

#### 2.1. Исходные данные
Используйте проект из лабораторной работы №10.

#### 2.2. Подготовка проекта
Добавьте в решение новый проект – веб-приложение Blazor (Blazor Web App). Назначьте проекту имя `XXX.Blazor.SSR` (SSR – server side rendering), где XXX – имя вашего решения.

Выберите режим рендеринга на сервере.

#### 2.3. Задание №1
В созданном проекте найдите в классе Program регистрацию сервиса Blazor и настройку конечных точек:

```csharp
builder.Services.AddRazorComponents()
    .AddInteractiveServerComponents();
    
// ...

app.MapRazorComponents<App>()
    .AddInteractiveServerRenderMode();
```

1. В папке `Components` найдите корневой компонент приложения `app.razor`. Откройте его.
2. Откройте компонент `Routes`.
3. В папке `Components/Pages` найдите компоненты-страницы приложения.
4. В папке `Components/Shared` найдите компонент макета.
5. Найдите использование на макете компонента `NavMenu`.
6. Найдите выражение `@Body`. Сюда будет размещена разметка страницы, использующей макет.
7. Найдите компонент `NavMenu`. Изучите его содержимое. Обратите внимание на использование компонента `NavLink` для переключения между страницами.
8. Найдите файл `_Imports.razor` и познакомьтесь с его содержимым.

#### 2.4. Задание №2
Запустите проект `XXX.Blazor.SSR`. В окне браузера запустите режим разработчика (клавиша F12).

1. Перейдите к вкладке **Network**.
2. Убедитесь, что при переключении страниц на сервер не отправляются запросы Http.
3. Переключитесь на вкладку **Console → Messages**.
4. Убедитесь, что между браузером и сервером открыто соединение WebSocket.

#### 2.5. Задание №3
На странице `Counter` поместите поле ввода и кнопку «Установить». При нажатии на кнопку счетчику присваивается значение, введенное в поле ввода.

Введенное значение должно быть целым положительным числом от 1 до 10. Предусмотреть валидацию с выводом соответствующего сообщения об ошибке.

##### 2.5.1. Рекомендации к заданию №3
1. Используйте компонент `EditForm`.
2. Инициализацию счетчика выполните в обработчике события формы `OnValidSubmit`.
3. Для ввода значения счетчика используйте компонент `<InputNumber>`.
4. Для задания правил валидации опишите вспомогательный класс, содержащий свойство типа `int`. Используйте атрибут `[Range]`.
5. Для валидации введенного значения счетчика и вывода сообщения об ошибке используйте компоненты `<DataAnnotationsValidator/>` и `<ValidationSummary/>`.

#### 2.6. Задание №4
Реализовать возможность передачи начального значения счетчика в строке запроса.

### 3. Вопросы для самопроверки
1. Что такое компоненты Blazor?
2. Как передаются данные между клиентом и сервером, если установлен атрибут `@rendermode InteractiveServer` (или `@attribute [RenderModeInteractiveServer]`)?
3. Как передать данные компоненту?
4. Как установить привязку данных в компоненте Blazor?
5. Когда возникает событие `OnParameterSetAsync`?
6. Как обработать событие «click» кнопки компонента Blazor?
7. Когда и для чего используется атрибут `@attribute [StreamRendering(true)]`?
8. Когда выполняется привязка данных поля `<input>` к свойству в коде компонента Blazor?
9. Для чего используется компонент `Router`?
10. Как в компоненте Blazor получить значение сегмента маршрута к странице?
11. Для чего используется класс `NavigationManager`?
12. На странице (родительский компонент) размещен компонент (дочерний компонент). Как передать данные от дочернего компонента к родительскому?